#!/bin/sh
# Run this to generate configure.in and configure.ac from configure.base

# args: $1 - configure file to create

sed "
s/^SUBSTFOR $1://g;
/^SUBSTFOR .*:.*/d;
s/^ *GST_CHECK_FEATURE *(\\([A-Za-z0-9_]*\\) *,/translit(dnm, m, l) AM_CONDITIONAL(USE_\\1, true)\\
GST_CHECK_FEATURE(\\1,/
s/^ *GST_SUBSYSTEM_DISABLE *(\\([A-Za-z0-9_]*\\) *,/translit(dnm, m, l) AM_CONDITIONAL(GST_DISABLE_\\1, true)\\
GST_SUBSYSTEM_DISABLE(\\1,/
s/^ *GST_CHECK_CONFIGPROG *(\\([A-Za-z0-9_]*\\) *,/translit(dnm, m, l) AC_SUBST(\\1_LIBS)\\
GST_CHECK_CONFIGPROG(\\1,/" |
sed "
s/^ *GST_CHECK_CONFIGPROG *(\\([A-Za-z0-9_]*\\) *,/translit(dnm, m, l) AC_SUBST(\\1_CFLAGS)\\
GST_CHECK_CONFIGPROG(\\1,/"
